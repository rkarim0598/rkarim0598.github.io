<html>

<head>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link rel="stylesheet" href="fonts/font.css">
    <link rel="stylesheet" href="css/index.css">
</head>

<body style="margin: 0">
    <div class="root-container">
        <div class="animated fadeIn">
            <div class="landing-text-container">
                <div style="font-size: 11vmin; line-height: 93%;">R</div>
                <div class="column-text-container">
                    <div style="font-size: 3vmin;">
                        welcome to
                    </div>
                    <div style="font-size: 8.5vmin; line-height: 35%;">
                        ayyan's
                    </div>
                    <div style="font-size: 3.5vmin; line-height: 220%;">
                        Personal Site
                    </div>
                </div>
            </div>
            <div class="bottom-half-container">
                <div class="routes-container">
                    <div class="icon-button-container">
                        <img src="assets/icon.png" class="icon shift">
                        <button class="route-button">
                            Continue
                        </button>
                    </div>
                    <div class="icon-button-container">
                        <img src="assets/icon.png" class="icon shift">
                        <button class="route-button">
                            New Game
                        </button>
                    </div>
                    <div class="icon-button-container">
                        <img src="assets/icon.png" class="icon shift">
                        <button class="route-button">
                            Options
                        </button>
                    </div>
                    <div class="icon-button-container">
                        <img src="assets/icon.png" class="icon shift">
                        <button class="route-button">
                            amiibo
                        </button>
                    </div>
                    <div class="icon-button-container">
                        <img src="assets/icon.png" class="icon shift" onclick="">
                        <button class="route-button" onclick="window.open('https:\/\/github.com/rkarim0598/rkarim0598.github.io');">
                            View Source
                        </button>
                    </div>
                </div>
                <div class="credits-container">
                    <div class="credit">
                        Ver 0.0.1
                    </div>
                    <div class="credit">
                        DLC Ver 0.0
                    </div>
                    <div class="credit">
                        &#169; Rayyan Karim
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        window.onload = () => {
            class IconManager {
                constructor() {
                    this.hoveredButton = null;
                    this.buttons = Object.values(document.getElementsByClassName('icon-button-container'));
                    const self = this;

                    Object.values(this.buttons).map((button, index) => {
                        button.addEventListener('mouseover', function (event) {
                            self.setHoveredButton(index);
                        })
                        button.addEventListener('mouseout', function (event) {
                            self.setHoveredButton(null);
                        })
                    })
                }

                incrementHoveredButton() {
                    this.hideHover();
                    this.hoveredButton === 4 || this.hoveredButton === null ?
                        this.hoveredButton = 0 : this.hoveredButton++;;
                    this.displayHover();

                }

                decrementHoveredButton() {
                    this.hideHover();
                    this.hoveredButton === 0 || this.hoveredButton === null ?
                        this.hoveredButton = 4 : this.hoveredButton--;
                    this.displayHover();
                }

                setHoveredButton(value) {
                    this.hideHover();

                    this.hoveredButton = value;
                    this.displayHover();
                }

                displayHover() {
                    if (this.hoveredButton !== null) {
                        this.buttons[this.hoveredButton].children[0].classList.add('icon-visible');
                    }
                }

                hideHover() {
                    this.hoveredButton !== null && this.buttons[this.hoveredButton].children[0].classList.remove('icon-visible');
                }

                handleEnterPress() {
                    this.hoveredButton !== null && this.buttons[this.hoveredButton].children[1].onclick !== null && this.buttons[this.hoveredButton].children[1].onclick();
                }
            }
            const manager = new IconManager();

            // add arrow key event listeners
            const keyProcessor = (e) => {
                if (e.keyCode === 38) {
                    manager.decrementHoveredButton();
                } else if (e.keyCode === 40) {
                    manager.incrementHoveredButton();
                } else if (e.keyCode === 13) {
                    manager.handleEnterPress();
                }
            }
            document.onkeydown = keyProcessor;
        }
    </script>
</body>

</html>